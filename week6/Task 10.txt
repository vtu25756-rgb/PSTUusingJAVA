Circular Palindromes
A palindrome is a string that reads the same from left to right as it does from right to left.

Given a string, , of  lowercase English letters, we define a -length rotation as cutting the first  characters from the beginning of  and appending them to the end of . For each , there are  possible -length rotations (where ). See the Explanation section for examples.

Given  and , find all  -length rotations of ; for each rotated string, , print the maximum possible length of any palindromic substring of  on a new line.

Input Format

The first line contains an integer,  (the length of ).
The second line contains a single string, .

Constraints

Output Format

There should be  lines of output, where each line  contains an integer denoting the maximum length of any palindromic substring of rotation .

Sample Input 0

13
aaaaabbbbaaaa
Sample Output 0

12
12
10
8
8
9
11
13
11
9
8
8
10
Sample Input 1

7
cacbbba
Sample Output 1

3
3
3
3
3
3
3
Sample Input 2

12
eededdeedede
Sample Output 2

5
7
7
7
7
9
9
9
9
7
5
4

program:
import java.io.*;
import java.util.*;
import java.util.stream.*;
import static java.util.stream.Collectors.joining;

class Result {

    public static List<Integer> circularPalindromes(String s) {
        int n = s.length();
        String doubled = s + s;
        List<Integer> result = new ArrayList<>();

        for (int start = 0; start < n; start++) {

            int maxLen = 1;
            int end = start + n;

            for (int center = start; center < end; center++) {

                // Odd length palindrome
                int l = center;
                int r = center;
                while (l >= start && r < end &&
                       doubled.charAt(l) == doubled.charAt(r)) {
                    maxLen = Math.max(maxLen, r - l + 1);
                    l--;
                    r++;
                }

                // Even length palindrome
                l = center;
                r = center + 1;
                while (l >= start && r < end &&
                       doubled.charAt(l) == doubled.charAt(r)) {
                    maxLen = Math.max(maxLen, r - l + 1);
                    l--;
                    r++;
                }
            }

            result.add(maxLen);
        }

        return result;
    }
}

public class Solution {

    public static void main(String[] args) throws IOException {

        BufferedReader bufferedReader =
                new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bufferedWriter =
                new BufferedWriter(new FileWriter(System.getenv("OUTPUT_PATH")));

        int n = Integer.parseInt(bufferedReader.readLine().trim());
        String s = bufferedReader.readLine();

        List<Integer> result = Result.circularPalindromes(s);

        bufferedWriter.write(
                result.stream()
                        .map(Object::toString)
                        .collect(joining("\n"))
        );

        bufferedWriter.newLine();

        bufferedReader.close();
        bufferedWriter.close();
    }
}
